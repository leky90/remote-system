(self.webpackChunksystem=self.webpackChunksystem||[]).push([[476],{2909:(e,t,r)=>{r.r(t),r.d(t,{axiosInstance:()=>a,queryClient:()=>o,useGetProfileQuery:()=>l,useGetUsersQuery:()=>y,useSignInMutation:()=>c});var u=r(8911),n=r(733),s=r(2318),i=r(8430);const o=new s.QueryClient({defaultOptions:{queries:{retry:0}}}),a=i.Z.create({baseURL:n.T5,timeout:1e3});function c(){return{signInMutation:(0,s.useMutation)({mutationFn:e=>a.post(`${n.T5}/v1/auth/sign-in`,e)})}}function l(e){return(0,s.useQuery)(Object.assign({},e,{queryKey:["profile"],queryFn:()=>a.get(`${n.T5}/v1/auth/profile`)}))}function y(e={page:1,limit:10},t){return(0,s.useQuery)(Object.assign({},t,{queryKey:["users",e.page,e.limit],queryFn:()=>a.get(`${n.T5}/v1/users`,{params:e})}))}a.interceptors.request.use((function(e){var t;return e.headers.Authorization="Bearer "+(null==(t=u.useAuthStore.getState().auth)?void 0:t.accessToken),e}),(function(e){return console.log("request error",e),Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null==(t=e.response)?void 0:t.status)&&u.useAuthStore.setState({auth:void 0}),Promise.reject(e)}))}}]);