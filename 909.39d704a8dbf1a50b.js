(self.webpackChunksystem=self.webpackChunksystem||[]).push([[909,476],{733:(e,t,r)=>{r.d(t,{T5:()=>s,vL:()=>u,J8:()=>n});const s="https://api-cms.ldktech.com",u={AUTH_INDEX:"/",AUTH_SIGN_UP:"/sign-up",OVERVIEW_INDEX:"/dashboard",DASHBOARD_PROFILE:"/dashboard/profile",SYSTEM_INDEX:"/dashboard/system",CRM_INDEX:"/dashboard/crm",ECOM_INDEX:"/dashboard/ecommerce",NOT_FOUND:"*"},n={INDEX:"system",USERS:"users",NOT_FOUND:"*"}},2909:(e,t,r)=>{r.r(t),r.d(t,{axiosInstance:()=>i,queryClient:()=>a,useGetProfileQuery:()=>d,useGetUsersQuery:()=>h,useSignInMutation:()=>c});var s=r(8911),u=r(733),n=r(2318),o=r(8430);const a=new n.QueryClient({defaultOptions:{queries:{retry:0}}}),i=o.Z.create({baseURL:u.T5,timeout:1e3});function c(){return{signInMutation:(0,n.useMutation)({mutationFn:e=>i.post(`${u.T5}/v1/auth/sign-in`,e)})}}function d(e){return(0,n.useQuery)(Object.assign({},e,{queryKey:["profile"],queryFn:()=>i.get(`${u.T5}/v1/auth/profile`)}))}function h(e={page:1,limit:10},t){return(0,n.useQuery)(Object.assign({},t,{queryKey:["users",e.page,e.limit],queryFn:()=>i.get(`${u.T5}/v1/users`,{params:e})}))}i.interceptors.request.use((function(e){var t;return e.headers.Authorization="Bearer "+(null==(t=s.useAuthStore.getState().auth)?void 0:t.accessToken),e}),(function(e){return console.log("request error",e),Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null==(t=e.response)?void 0:t.status)&&s.useAuthStore.setState({auth:void 0}),Promise.reject(e)}))}}]);